function verify_ipv4(ip) {
  const rx = /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/;
  return ip.match(rx);
}

// testing
var ips = ['1.2.3.4', '11.11.11.11', '123.123.123.123', '255.250.249.0',
'1.12.123.255', '127.0.0.1', '1.0.0.0', '0.1.1.1', '01.1.1.1', '012.1.1.1',
'1.2.3.4.', '1.2.3\n4', '1.2.3.4\n', '259.0.0.1', '123.', '1.2.3.4.5',
'.1.2.3.4', '1,2,3,4', '1.2.333.4', '1.299.3.4'];
ips.forEach(function(s) {
    if (verify_ipv4(s))  {
        console.log('valid: ' + s);
    } else {
      console.log('invalid: ' + s);
    }
});
